import React, { useMemo, useState } from 'react'
import { generateHitSong, makeItAHit, type HookStyle, type SongLength } from './lib/lyrics'

type View =
  | 'dashboard'
  | 'voice-engine'
  | 'effects'
  | 'equalizer'
  | 'presets'
  | 'style-engine'
  | 'voice-designer'
  | 'signature-voice'
  | 'unrecognizable'
  | 'emotion-engine'
  | 'podcast'
  | 'karaoke'
  | 'live-karaoke'
  | 'live-performance'
  | 'ai-choir'
  | 'voice-instrument'
  | 'voice-swap'
  | 'stem-split'
  | 'ai-tools'
  | 'beat-maker'
  | 'instrumental-maker'
  | 'hit-song-builder'
  | 'music-video-ai'
  | 'mastering'
  | 'vocal-coach'
  | 'vocal-games'
  | 'voice-health'
  | 'pricing'

const NAV: { section: string; items: { id: View; label: string }[] }[] = [
  {
    section: 'Main',
    items: [
      { id: 'dashboard', label: 'ðŸ  Dashboard' },
      { id: 'voice-engine', label: 'ðŸŽ¤ Voice Engine' },
      { id: 'equalizer', label: 'ðŸŽšï¸ Equalizer' },
      { id: 'effects', label: 'ðŸŽ›ï¸ Effects' },
      { id: 'presets', label: 'ðŸŽ¨ Presets' },
    ],
  },
  {
    section: 'Voice DNA',
    items: [
      { id: 'style-engine', label: 'ðŸ§¬ Style Engine (Sing in Any Voice Style)' },
      { id: 'voice-designer', label: 'ðŸŽ¨ Voice Designer' },
      { id: 'signature-voice', label: 'âœ¨ Signature Voice Builder' },
      { id: 'unrecognizable', label: 'ðŸŽ­ Unrecognizable Mode' },
      { id: 'emotion-engine', label: 'ðŸ’– Emotion Engine' },
      { id: 'ai-choir', label: 'ðŸŽµ AI Choir Generator' },
      { id: 'voice-instrument', label: 'ðŸŽ¸ Voice â†’ Instrument' },
      { id: 'voice-swap', label: 'ðŸ”„ Voice Swap' },
      { id: 'stem-split', label: 'ðŸ”ª Stem Splitter' },
    ],
  },
  {
    section: 'Create',
    items: [
      { id: 'beat-maker', label: 'ðŸ¥ Beat Maker' },
      { id: 'instrumental-maker', label: 'ðŸŽ¹ Instrumental Maker' },
      { id: 'hit-song-builder', label: 'âœï¸ Hit Song Builder' },
      { id: 'music-video-ai', label: 'ðŸŽ¬ Music Video AI' },
      { id: 'mastering', label: 'ðŸ† Mastering Studio' },
    ],
  },
  {
    section: 'Perform',
    items: [
      { id: 'karaoke', label: 'ðŸŽ¤ Karaoke Mode' },
      { id: 'live-karaoke', label: 'ðŸŽµ Live Karaoke' },
      { id: 'live-performance', label: 'ðŸŽ¸ Live Performance' },
      { id: 'podcast', label: 'ðŸŽ™ï¸ Podcast Studio' },
      { id: 'vocal-coach', label: 'ðŸ† AI Vocal Coach' },
      { id: 'vocal-games', label: 'ðŸŽ® Vocal Games' },
      { id: 'voice-health', label: 'â¤ï¸ Voice Health' },
    ],
  },
  {
    section: 'System',
    items: [
      { id: 'ai-tools', label: 'ðŸ§  AI Tools' },
      { id: 'pricing', label: 'ðŸ’° Pricing' },
    ],
  },
]

const styles = {
  shell: {
    display: 'flex',
    minHeight: '100vh',
    background: 'linear-gradient(135deg,#05050a,#0a0a14,#0f0a1a)',
    color: '#fff',
  } as React.CSSProperties,
  side: {
    width: 280,
    padding: 14,
    background: 'rgba(0,0,0,.55)',
    borderRight: '1px solid rgba(0,212,255,.18)',
    position: 'sticky',
    top: 0,
    height: '100vh',
    overflow: 'auto',
  } as React.CSSProperties,
  main: { flex: 1, padding: 22, maxWidth: 1200 } as React.CSSProperties,
  card: {
    background: 'rgba(255,255,255,.04)',
    border: '1px solid rgba(255,255,255,.12)',
    borderRadius: 14,
    padding: 14,
    marginBottom: 12,
  } as React.CSSProperties,
  title: {
    margin: 0,
    fontSize: 26,
    background: 'linear-gradient(90deg,#00d4ff,#ff00ff)',
    WebkitBackgroundClip: 'text',
    color: 'transparent',
  } as React.CSSProperties,
  sub: { margin: '6px 0 18px', color: 'rgba(255,255,255,.65)', fontSize: 12 } as React.CSSProperties,
}

const navBtn = (on: boolean): React.CSSProperties => ({
  width: '100%',
  textAlign: 'left',
  padding: '10px 10px',
  borderRadius: 12,
  cursor: 'pointer',
  background: on ? 'linear-gradient(90deg,rgba(0,212,255,.18),rgba(255,0,255,.12))' : 'transparent',
  border: on ? '1px solid rgba(0,212,255,.28)' : '1px solid transparent',
  color: on ? 'rgba(0,212,255,.95)' : 'rgba(255,255,255,.72)',
  marginTop: 6,
})

const chip = (on: boolean): React.CSSProperties => ({
  padding: '7px 10px',
  borderRadius: 999,
  cursor: 'pointer',
  border: `1px solid ${on ? 'rgba(0,212,255,.55)' : 'rgba(255,255,255,.14)'}`,
  background: on ? 'rgba(0,212,255,.10)' : 'rgba(255,255,255,.04)',
  color: on ? '#eaffff' : 'rgba(255,255,255,.80)',
  fontSize: 12,
})

function Progress({ value }: { value: number }) {
  return (
    <div style={{ height: 8, background: 'rgba(255,255,255,.10)', borderRadius: 999, overflow: 'hidden' }}>
      <div
        style={{
          height: '100%',
          width: `${value}%`,
          background: 'linear-gradient(90deg,#00d4ff,#ff00ff)',
          transition: 'width .15s',
        }}
      />
    </div>
  )
}

function KnobGrid({ title, items }: { title: string; items: string[] }) {
  return (
    <div style={styles.card}>
      <div style={{ fontSize: 12, color: 'rgba(0,212,255,.95)', marginBottom: 10 }}>{title}</div>
      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(4,minmax(0,1fr))', gap: 10 }}>
        {items.map((k) => (
          <div
            key={k}
            style={{
              background: 'rgba(0,0,0,.25)',
              border: '1px solid rgba(255,255,255,.10)',
              borderRadius: 12,
              padding: 10,
            }}
          >
            <div style={{ fontSize: 11, opacity: 0.85, marginBottom: 6 }}>{k}</div>
            <input type="range" min={0} max={100} defaultValue={50} style={{ width: '100%' }} />
          </div>
        ))}
      </div>
    </div>
  )
}

export default function App() {
  const [view, setView] = useState<View>('dashboard')

  // Hit Song Builder
  const [genre, setGenre] = useState('R&B')
  const [mood, setMood] = useState('Romantic')
  const [length, setLength] = useState<SongLength>('extended')
  const [hookStyle, setHookStyle] = useState<HookStyle>('melodic')
  const [topic, setTopic] = useState('')
  const [out, setOut] = useState('Generate a full, long-form, professional songâ€¦')
  const [progress, setProgress] = useState(0)

  // Pricing owner unlock
  const [ownerCode, setOwnerCode] = useState('')
  const [ownerUnlocked, setOwnerUnlocked] = useState(false)

  const genres = useMemo(() => ['R&B', 'Pop', 'Hip-Hop', 'Soul', 'Gospel', 'Afrobeat', 'EDM', 'Country', 'Rock', 'Jazz'], [])
  const moods = useMemo(
    () => ['Romantic', 'Heartbreak', 'Confident', 'Vulnerable', 'Triumphant', 'Nostalgic', 'Dark', 'Uplifting'],
    [],
  )
  const lengths: { id: SongLength; label: string }[] = [
    { id: 'short', label: 'Short' },
    { id: 'standard', label: 'Standard' },
    { id: 'extended', label: 'Extended' },
  ]
  const hookStyles: { id: HookStyle; label: string }[] = [
    { id: 'anthem', label: 'Anthem' },
    { id: 'melodic', label: 'Melodic' },
    { id: 'rhythmic', label: 'Rhythmic' },
    { id: 'emotional', label: 'Emotional' },
  ]

  function fakeProgress(ms = 900) {
    setProgress(0)
    const started = Date.now()
    const t = setInterval(() => {
      const p = Math.min(100, Math.round(((Date.now() - started) / ms) * 100))
      setProgress(p)
      if (p >= 100) clearInterval(t)
    }, 60)
  }

  const pageTitle = (t: string, s: string) => (
    <>
      <h1 style={styles.title}>{t}</h1>
      <p style={styles.sub}>{s}</p>
    </>
  )

  return (
    <div style={styles.shell}>
      <aside style={styles.side}>
        <div
          style={{
            fontWeight: 900,
            fontSize: 14,
            letterSpacing: 0.6,
            background: 'linear-gradient(90deg,#00d4ff,#ff00ff,#00d4ff)',
            WebkitBackgroundClip: 'text',
            color: 'transparent',
          }}
        >
          ðŸŽ¤ STUDIO IN YOUR POCKET
        </div>
        <div style={{ fontSize: 10, opacity: 0.55, letterSpacing: 1.4, marginTop: 6 }}>ALL MODULES â€¢ FULL UI</div>

        {NAV.map((sec) => (
          <div key={sec.section} style={{ marginTop: 14 }}>
            <div style={{ fontSize: 10, color: 'rgba(0,212,255,.85)', letterSpacing: 1.2, textTransform: 'uppercase' }}>
              {sec.section}
            </div>
            {sec.items.map((it) => (
              <button key={it.id} type="button" style={navBtn(view === it.id)} onClick={() => setView(it.id)}>
                {it.label}
              </button>
            ))}
          </div>
        ))}
      </aside>

      <main style={styles.main}>
        {view === 'dashboard' && (
          <>
            {pageTitle(
              'Studio In Your Pocket',
              'All requested modules are present in the sidebar and open real screens (Podcast, Unrecognizable, Choir, Swap, Stem Split, Karaoke, Coach, Games, Mastering, etc.).',
            )}
            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(4,minmax(0,1fr))', gap: 10, marginBottom: 12 }}>
              {[
                { id: 'hit-song-builder', t: 'âœï¸ Hit Song Builder' },
                { id: 'podcast', t: 'ðŸŽ™ï¸ Podcast Studio' },
                { id: 'unrecognizable', t: 'ðŸŽ­ Unrecognizable' },
                { id: 'karaoke', t: 'ðŸŽ¤ Karaoke' },
                { id: 'live-karaoke', t: 'ðŸŽµ Live Karaoke' },
                { id: 'ai-choir', t: 'ðŸŽµ AI Choir' },
                { id: 'voice-instrument', t: 'ðŸŽ¸ Voiceâ†’Instrument' },
                { id: 'stem-split', t: 'ðŸ”ª Stem Splitter' },
              ].map((x) => (
                <div key={x.id} onClick={() => setView(x.id as View)} style={{ ...styles.card, cursor: 'pointer' }}>
                  <div style={{ fontSize: 12, color: 'rgba(0,212,255,.95)', marginBottom: 6 }}>{x.t}</div>
                  <div style={{ fontSize: 11, opacity: 0.7 }}>Click to open</div>
                </div>
              ))}
            </div>

            <div style={styles.card}>
              <div style={{ display: 'grid', gridTemplateColumns: 'repeat(4,minmax(0,1fr))', gap: 10 }}>
                {[
                  ['0.001ms', 'Latency'],
                  ['192kHz', 'Sample Rate'],
                  ['64-bit', 'Float'],
                  ['READY', 'System'],
                ].map(([v, l]) => (
                  <div
                    key={l}
                    style={{
                      background: 'rgba(0,0,0,.25)',
                      border: '1px solid rgba(255,255,255,.08)',
                      borderRadius: 14,
                      padding: 12,
                      textAlign: 'center',
                    }}
                  >
                    <div style={{ fontSize: 18, color: 'rgba(0,212,255,.95)', fontWeight: 800 }}>{v}</div>
                    <div style={{ fontSize: 10, opacity: 0.6, letterSpacing: 1.2, textTransform: 'uppercase' }}>{l}</div>
                  </div>
                ))}
              </div>
            </div>
          </>
        )}

        {view === 'hit-song-builder' && (
          <>
            {pageTitle('AI Hit Song Builder', 'Long-form, professional lyrics. Extended = longest output.')}
            <div style={styles.card}>
              <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3,minmax(0,1fr))', gap: 10 }}>
                <div>
                  <div style={{ fontSize: 11, opacity: 0.7, marginBottom: 6 }}>Genre</div>
                  <div style={{ display: 'flex', flexWrap: 'wrap', gap: 6 }}>
                    {genres.map((g) => (
                      <div key={g} style={chip(genre === g)} onClick={() => setGenre(g)}>
                        {g}
                      </div>
                    ))}
                  </div>
                </div>
                <div>
                  <div style={{ fontSize: 11, opacity: 0.7, marginBottom: 6 }}>Mood</div>
                  <div style={{ display: 'flex', flexWrap: 'wrap', gap: 6 }}>
                    {moods.map((m) => (
                      <div key={m} style={chip(mood === m)} onClick={() => setMood(m)}>
                        {m}
                      </div>
                    ))}
                  </div>
                </div>
                <div>
                  <div style={{ fontSize: 11, opacity: 0.7, marginBottom: 6 }}>Length</div>
                  <div style={{ display: 'flex', flexWrap: 'wrap', gap: 6 }}>
                    {lengths.map((l) => (
                      <div key={l.id} style={chip(length === l.id)} onClick={() => setLength(l.id)}>
                        {l.label}
                      </div>
                    ))}
                  </div>
                  <div style={{ height: 10 }} />
                  <div style={{ fontSize: 11, opacity: 0.7, marginBottom: 6 }}>Hook Focus</div>
                  <div style={{ display: 'flex', flexWrap: 'wrap', gap: 6 }}>
                    {hookStyles.map((h) => (
                      <div key={h.id} style={chip(hookStyle === h.id)} onClick={() => setHookStyle(h.id)}>
                        {h.label}
                      </div>
                    ))}
                  </div>
                </div>
              </div>

              <div style={{ height: 10 }} />
              <div style={{ fontSize: 11, opacity: 0.7, marginBottom: 6 }}>Story / Topic</div>
              <textarea
                value={topic}
                onChange={(e) => setTopic(e.target.value)}
                style={{
                  width: '100%',
                  minHeight: 110,
                  padding: 10,
                  borderRadius: 12,
                  border: '1px solid rgba(255,255,255,.14)',
                  background: 'rgba(0,0,0,.22)',
                  color: '#fff',
                }}
              />

              <div style={{ height: 10 }} />
              <div style={{ display: 'flex', gap: 10, flexWrap: 'wrap' }}>
                <button
                  type="button"
                  onClick={() => {
                    fakeProgress(900)
                    setOut('Generating full songâ€¦')
                    setTimeout(() => {
                      setOut(generateHitSong({ genre, mood, topic, length, hookStyle }))
                    }, 950)
                  }}
                  style={{
                    padding: '11px 14px',
                    borderRadius: 12,
                    border: 0,
                    cursor: 'pointer',
                    background: 'linear-gradient(90deg,#00d4ff,#ff00ff)',
                    color: '#fff',
                    fontWeight: 900,
                  }}
                >
                  âœ¨ Generate Full Song
                </button>

                <button
                  type="button"
                  onClick={() => setOut(makeItAHit(out))}
                  style={{
                    padding: '11px 14px',
                    borderRadius: 12,
                    border: '1px solid rgba(255,255,255,.14)',
                    cursor: 'pointer',
                    background: 'rgba(255,255,255,.08)',
                    color: '#fff',
                    fontWeight: 800,
                  }}
                >
                  ðŸ”¥ Make This A Hit (Rewrite)
                </button>

                <button
                  type="button"
                  onClick={async () => {
                    try {
                      await navigator.clipboard.writeText(out)
                      alert('Copied.')
                    } catch {
                      alert('Copy failed.')
                    }
                  }}
                  style={{
                    padding: '11px 14px',
                    borderRadius: 12,
                    border: '1px solid rgba(255,255,255,.14)',
                    cursor: 'pointer',
                    background: 'rgba(255,255,255,.08)',
                    color: '#fff',
                    fontWeight: 800,
                  }}
                >
                  ðŸ“‹ Copy
                </button>
              </div>

              <div style={{ marginTop: 12 }}>
                <Progress value={progress} />
              </div>
            </div>

            <div style={styles.card}>
              <div style={{ fontSize: 12, color: 'rgba(0,212,255,.95)', marginBottom: 10 }}>Output</div>
              <div
                style={{
                  whiteSpace: 'pre-wrap',
                  lineHeight: 1.55,
                  fontFamily: 'ui-monospace, SFMono-Regular, Menlo, Consolas, monospace',
                  fontSize: 12,
                  background: 'rgba(0,0,0,.28)',
                  border: '1px solid rgba(255,255,255,.10)',
                  borderRadius: 14,
                  padding: 14,
                  minHeight: 320,
                }}
              >
                {out}
              </div>
            </div>
          </>
        )}

        {view === 'podcast' && pageTitle('Podcast Studio', 'Broadcast-style voice chain + recording workflow.') && (
          <KnobGrid title="Podcast Controls" items={['Clarity','De-Esser','Warmth','Compression','Gate','Loudness','Room Tone','Limiter']} />
        )}

        {view === 'unrecognizable' && pageTitle('Unrecognizable Mode', 'Total voice identity transformation.') && (
          <KnobGrid title="Identity Transform" items={['Tone Shift','Resonance','Color','Texture','Polish','Formant','Age Tone','Gender Tone','Character','Mix']} />
        )}

        {view === 'style-engine' && (
          <>
            {pageTitle('Style Engine', 'Archetype-based vocal styles (no identity replication).')}
            <div style={styles.card}>
              <div style={{ display: 'grid', gridTemplateColumns: 'repeat(4,minmax(0,1fr))', gap: 10 }}>
                {[
                  'Powerhouse Diva','Soulful Alto','Silky R&B Tenor','Classic Soul Baritone',
                  'Gospel Lead','Neo-Soul Texture','Vocal Run Specialist','Stage Legend',
                  'Bright Pop Lead','Radio Voice','Indie Whisper','Epic Choir Lead',
                ].map((s) => (
                  <div
                    key={s}
                    style={{ background: 'rgba(0,0,0,.25)', border: '1px solid rgba(255,255,255,.10)', borderRadius: 14, padding: 12, cursor: 'pointer' }}
                    onClick={() => alert(`Style applied: ${s}`)}
                  >
                    <div style={{ fontWeight: 900, fontSize: 12 }}>{s}</div>
                    <div style={{ opacity: 0.65, fontSize: 11, marginTop: 6 }}>Apply</div>
                  </div>
                ))}
              </div>
            </div>
          </>
        )}

        {view === 'voice-designer' && pageTitle('Voice Designer', 'Build a custom vocal persona from sliders.') && (
          <KnobGrid title="Designer Sliders" items={['Warmth','Grit','Smoothness','Airiness','Power','Depth','Brightness','Vibrato','Runs','Emotion']} />
        )}

        {view === 'signature-voice' && pageTitle('Signature Voice Builder', 'Save Stage / Studio / Podcast / Alter Ego voices.') && (
          <KnobGrid title="Signature Voice DNA" items={['Warmth','Grit','Smooth','Air','Power','Depth','Brightness','Vibrato','Run Rate','Intensity']} />
        )}

        {view === 'emotion-engine' && pageTitle('Emotion Engine', 'Emotion-driven delivery shaping.') && (
          <KnobGrid title="Emotion Controls" items={['Heartbreak','Love','Pain','Confidence','Anger','Joy','Nostalgia','Empowerment']} />
        )}

        {view === 'ai-choir' && pageTitle('AI Choir Generator', 'Create stacked choir layers.') && (
          <KnobGrid title="Choir Mixer" items={['Choir Size','Soprano','Alto','Tenor','Baritone','Bass','Spread','Room','Blend','Humanize']} />
        )}

        {view === 'voice-instrument' && pageTitle('Voice â†’ Instrument', 'Convert vocal tone into instrument timbre.') && (
          <KnobGrid title="Instrument Convert" items={['Blend','Tone','Expression','Resonance','Attack','Release','Pitch Track','Sustain','Noise','Mix']} />
        )}

        {view === 'voice-swap' && pageTitle('Voice Swap', 'Swap between two voice profiles.') && (
          <KnobGrid title="Swap Controls" items={['Intensity','Tone Blend','Pitch Blend','Timing Preserve','Emotion Preserve','Smoothing','Formant Lock','Mix']} />
        )}

        {view === 'stem-split' && (
          <>
            {pageTitle('Stem Splitter', 'Separate vocals, drums, bass, music (UI-ready).')}
            <div style={styles.card}>
              <div style={{ display: 'grid', gridTemplateColumns: 'repeat(6,minmax(0,1fr))', gap: 10 }}>
                {['Vocals','Drums','Bass','Melody','Harmony','FX'].map((s) => (
                  <div key={s} style={{ background: 'rgba(0,0,0,.25)', border: '1px solid rgba(255,255,255,.10)', borderRadius: 14, padding: 12, textAlign: 'center' }}>
                    <div style={{ fontWeight: 900 }}>{s}</div>
                    <button
                      type="button"
                      onClick={() => alert(`Downloaded ${s} (placeholder action)`)}
                      style={{ marginTop: 8, padding: '8px 10px', borderRadius: 12, border: '1px solid rgba(255,255,255,.14)', background: 'rgba(255,255,255,.08)', color: '#fff', cursor: 'pointer' }}
                    >
                      Download
                    </button>
                  </div>
                ))}
              </div>
            </div>
          </>
        )}

        {view === 'karaoke' && pageTitle('Karaoke Mode', 'Song library + scoring.') && (
          <div style={styles.card}>
            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(4,minmax(0,1fr))', gap: 10 }}>
              {['Easy Pop','R&B Mid','Soul Ballad','Gospel Run','Hip-Hop Flow','Rock Power','EDM Lead','Jazz Lounge'].map((s) => (
                <div key={s} style={{ background: 'rgba(0,0,0,.25)', border: '1px solid rgba(255,255,255,.10)', borderRadius: 14, padding: 12, cursor: 'pointer' }} onClick={() => alert(`Selected: ${s}`)}>
                  <div style={{ fontWeight: 900 }}>{s}</div>
                  <div style={{ opacity: 0.65, fontSize: 11, marginTop: 6 }}>Select</div>
                </div>
              ))}
            </div>
          </div>
        )}

        {view === 'live-karaoke' && pageTitle('Live Karaoke', 'Stage-ready karaoke presets.') && (
          <KnobGrid title="Live Karaoke Controls" items={['Vocal','Music','Key','Reverb','Echo','Boost','Monitor','Limiter']} />
        )}

        {view === 'live-performance' && pageTitle('Live Performance', 'Setlist + stage controls.') && (
          <KnobGrid title="Stage Controls" items={['Stage Reverb','Crowd','Projection','Monitor','Feedback Guard','Limiter','Setlist Gain','Master']} />
        )}

        {view === 'vocal-coach' && pageTitle('AI Vocal Coach', 'Pitch coaching + exercises.') && (
          <KnobGrid title="Coach Focus" items={['Pitch Accuracy','Timing','Breath','Vibrato','Agility','Range','Harmony','Confidence']} />
        )}

        {view === 'vocal-games' && pageTitle('Vocal Games', 'Training games + scoring.') && (
          <KnobGrid title="Game Training" items={['Pitch Hero','Note Dash','Rhythm','Harmony Battle','Olympics','Puzzle','XP Gain','Streak']} />
        )}

        {view === 'voice-health' && pageTitle('Voice Health', 'Strain monitoring + rest suggestions.') && (
          <KnobGrid title="Health Monitor" items={['Strain','Fatigue','Hydration','Session Time','Rest Timer','Warm Up','Cooldown','Intensity']} />
        )}

        {view === 'ai-tools' && pageTitle('AI Tools', 'Isolation, cleanup, stem tools.') && (
          <div style={styles.card}>
            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(4,minmax(0,1fr))', gap: 10 }}>
              {['Vocal Isolator','Remove Instrumentals','Remove BG Vocals','Remove Reverb','Remove Echo','Stem Separation','Clean Stage','Super Enhance'].map((t) => (
                <div key={t} style={{ background: 'rgba(0,0,0,.25)', border: '1px solid rgba(255,255,255,.10)', borderRadius: 14, padding: 12, cursor: 'pointer' }} onClick={() => alert(`Processing: ${t}`)}>
                  <div style={{ fontWeight: 900 }}>{t}</div>
                  <div style={{ opacity: 0.65, fontSize: 11, marginTop: 6 }}>Run</div>
                </div>
              ))}
            </div>
          </div>
        )}

        {view === 'beat-maker' && pageTitle('Beat Maker', 'Select instruments â†’ generate beat.') && (
          <KnobGrid title="Beat Controls" items={['Tempo','Swing','Complexity','Kick','Snare','Hat','Bass','Melody','FX','Mix']} />
        )}

        {view === 'instrumental-maker' && pageTitle('Instrumental Maker', 'Generate full instrumental.') && (
          <KnobGrid title="Instrumental Controls" items={['Chord Density','Melody Motion','Bass Weight','Drum Energy','Texture','Arrangement','Key Match','Tempo Lock','Drop','Mix']} />
        )}

        {view === 'music-video-ai' && pageTitle('Music Video AI', 'Generate video plan + export formats.') && (
          <KnobGrid title="Video Controls" items={['Scene Energy','Cut Speed','Color Grade','VFX Amount','Lyric Overlay','Lip Sync','Resolution','Export']} />
        )}

        {view === 'mastering' && pageTitle('Mastering Studio', '1-tap mastering profiles.') && (
          <KnobGrid title="Mastering Controls" items={['Loudness','Bass','Clarity','Width','Limiter','Air','Glue','Punch','Ceiling','Output']} />
        )}

        {view === 'equalizer' && pageTitle('Equalizer', 'Tone sculpting with bands.') && (
          <KnobGrid title="EQ Bands" items={['80Hz','250Hz','500Hz','1kHz','2.5kHz','5kHz','12kHz']} />
        )}

        {view === 'effects' && (
          <>
            {pageTitle('Effects', 'Compressor, Reverb, Delay')}
            <KnobGrid title="Compressor" items={['Threshold','Ratio','Attack','Release','Knee','Makeup']} />
            <KnobGrid title="Reverb" items={['Size','Decay','Pre-Delay','Damping','Mix']} />
            <KnobGrid title="Delay" items={['Time','Feedback','Mix','Sync']} />
          </>
        )}

        {view === 'presets' && pageTitle('Presets', 'One-click vocal chains.') && (
          <div style={styles.card}>
            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(4,minmax(0,1fr))', gap: 10 }}>
              {['Radio Ready','Podcast Pro','Warm Soul','Bright Pop','R&B Silk','Gospel Power','Stage Clean','Future Vocal','Vintage Soul','Total Rebirth'].map((p) => (
                <div key={p} style={{ background: 'rgba(0,0,0,.25)', border: '1px solid rgba(255,255,255,.10)', borderRadius: 14, padding: 12, cursor: 'pointer' }} onClick={() => alert(`Preset applied: ${p}`)}>
                  <div style={{ fontWeight: 900 }}>{p}</div>
                  <div style={{ opacity: 0.65, fontSize: 11, marginTop: 6 }}>Apply</div>
                </div>
              ))}
            </div>
          </div>
        )}

        {view === 'voice-engine' && (
          <>
            {pageTitle('Voice Engine', 'Core vocal changer + enhancer.')}
            <KnobGrid title="Pitch & Tone" items={['Pitch','Formant','Fine','Correction','Humanize','Vibrato','Drift','Gender','Character','Mix']} />
            <KnobGrid title="Clarity & Presence" items={['Clarity','Warmth','Presence','Air','De-Esser','Noise Gate','Compression','Limiter']} />
          </>
        )}

        {view === 'pricing' && (
          <>
            {pageTitle('Pricing', 'Starter $9.99 â€¢ Pro $24.99 â€¢ Lifetime $299')}
            <div style={styles.card}>
              <div style={{ fontSize: 12, color: 'rgba(0,212,255,.95)', marginBottom: 10 }}>Owner Unlock</div>
              <div style={{ display: 'flex', gap: 10, flexWrap: 'wrap' }}>
                <input
                  value={ownerCode}
                  onChange={(e) => setOwnerCode(e.target.value)}
                  placeholder="Enter owner codeâ€¦"
                  style={{
                    flex: 1,
                    minWidth: 260,
                    padding: 10,
                    borderRadius: 12,
                    border: '1px solid rgba(255,255,255,.14)',
                    background: 'rgba(0,0,0,.22)',
                    color: '#fff',
                  }}
                />
                <button
                  type="button"
                  onClick={() => {
                    const ok = ownerCode.trim() === 'VOXLEGEND-OWNER-2024'
                    setOwnerUnlocked(ok)
                    alert(ok ? 'Owner access activated (Lifetime unlocked).' : 'Invalid code.')
                  }}
                  style={{ padding: '11px 14px', borderRadius: 12, border: 0, cursor: 'pointer', background: 'linear-gradient(90deg,#00d4ff,#ff00ff)', color: '#fff', fontWeight: 900 }}
                >
                  Unlock
                </button>
              </div>

              <div style={{ height: 10 }} />
              <div
                style={{
                  padding: 12,
                  borderRadius: 14,
                  background: ownerUnlocked ? 'linear-gradient(90deg,rgba(0,255,136,.18),rgba(0,212,255,.10))' : 'rgba(0,0,0,.25)',
                  border: '1px solid rgba(255,255,255,.10)',
                }}
              >
                <div style={{ fontWeight: 900, color: ownerUnlocked ? 'rgba(0,255,136,.95)' : 'rgba(255,255,255,.75)' }}>
                  {ownerUnlocked ? 'LIFETIME ACTIVE â€¢ $0' : 'LOCKED'}
                </div>
                <div style={{ fontSize: 12, opacity: 0.7, marginTop: 6 }}>
                  {ownerUnlocked ? 'All features unlocked for this device/session.' : 'Enter owner code to unlock lifetime access.'}
                </div>
              </div>
            </div>
          </>
        )}
      </main>
    </div>
  )
}
